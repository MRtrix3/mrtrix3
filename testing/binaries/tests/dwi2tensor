dwi2tensor dwi.mif - | testing_diff_image - dwi2tensor/out.mif -frac 1e-5
dwi2tensor dwi.mif -mask mask.mif - | testing_diff_image - dwi2tensor/out_mask.mif -frac 1e-5
dwi2tensor dwi.mif -mask mask.mif -b0 - tmp_dt.mif | testing_diff_image - dwi2tensor/out_b0.mif -frac 1e-5
dwi2tensor dwi.mif -mask mask.mif -ols -iter 0 - | testing_diff_image - dwi2tensor/out_ols_it0.mif -frac 1e-5
dwi2tensor dwi.mif -mask mask.mif -iter 0 - | testing_diff_image - dwi2tensor/out_it0.mif -frac 1e-5
dwi2tensor dwi.mif -mask mask.mif -iter 1 - | testing_diff_image - dwi2tensor/out_it1.mif -frac 1e-5
dwi2tensor dwi.mif -mask mask.mif -iter 2 - | testing_diff_image - dwi2tensor/out_it2.mif -frac 1e-5
dwi2tensor dwi.mif -mask mask.mif -iter 3 - | testing_diff_image - dwi2tensor/out_it3.mif -frac 1e-5
dwi2tensor dwi.mif -mask mask.mif -iter 4 - | testing_diff_image - dwi2tensor/out_it4.mif -frac 1e-5
dwi2tensor dwi_ms.mif -b0 tmp_ms_b0.mif -dkt tmp_ms_dkt.mif tmp_ms_dt.mif && testing_diff_image tmp_ms_b0.mif dwi2tensor/ms_b0.mif -frac 1e-5 && testing_diff_image tmp_ms_dt.mif dwi2tensor/ms_dt.mif -frac 1e-5 && testing_diff_image tmp_ms_dkt.mif dwi2tensor/ms_dkt.mif -frac 1e-5 
dwi2tensor dwi_ms.mif -b0 tmp_ms_b0_constrain.mif -dkt tmp_ms_dkt_constrain.mif tmp_ms_dt_constrain.mif -constrain && testing_diff_image tmp_ms_b0_constrain.mif dwi2tensor/ms_b0_constrain.mif -abs 1e-5 && testing_diff_image tmp_ms_dt_constrain.mif dwi2tensor/ms_dt_constrain.mif -abs 1e-5 && tensor2metric tmp_ms_dt_constrain.mif -adc - | mrcalc - 1e5 -mult -2 -pow - | testing_diff_image tmp_ms_dkt_constrain.mif dwi2tensor/ms_dkt_constrain.mif -image - 

