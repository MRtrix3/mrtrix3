version: 1.0.{build}

image: Visual Studio 2017

platform: x64

configuration: Release

init:
  - git config --global core.autocrlf input

clone_folder: c:\msys64\mrtrix3

shallow_clone: true
clone_depth: 5

matrix:
  fast_finish: false # set this flag to immediately finish build once one of the jobs fails.

environment:
  test: run
  matrix:
    - py: python2
    - py: python3

build: off

build_script:
  - cmd: C:\msys64\usr\bin\bash -e -l -c "pacman -S --noconfirm mingw-w64-x86_64-eigen3 mingw-w64-x86_64-qt5 mingw-w64-x86_64-fftw mingw-w64-x86_64-libtiff && cd /mrtrix3/ && ./travis.sh"

